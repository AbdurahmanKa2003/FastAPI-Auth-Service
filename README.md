üõ°Ô∏è FastAPI Auth/Auth System Demo–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (AuthN) –∏ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (AuthZ), —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –Ω–∞ FastAPI. –°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JSON Web Tokens (JWT) –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –≥–∏–±–∫—É—é –º–æ–¥–µ–ª—å Role-Based Access Control (RBAC) –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–æ–º –∫ —Ä–µ—Å—É—Ä—Å–∞–º.üéØ –¶–µ–ª–∏ –∏ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞–û—Å–Ω–æ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî —Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é backend-—Å–∏—Å—Ç–µ–º—É, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ —Ä–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞.1. –°—Ö–µ–º–∞ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (RBAC)–°–∏—Å—Ç–µ–º–∞ –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ –º–æ–¥–µ–ª–∏ –†–æ–ª—å ‚Üí –†–µ—Å—É—Ä—Å ‚Üí –î–µ–π—Å—Ç–≤–∏–µ (Role-Resource-Action), —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤—ã—Å–æ–∫—É—é –≥–∏–±–∫–æ—Å—Ç—å:–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–ü—Ä–∏–º–µ—Ä–û–ø–∏—Å–∞–Ω–∏–µ–†–æ–ª—å (Role)ADMIN, MANAGER, USER–ì—Ä—É–ø–ø—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–µ –Ω–∞–±–æ—Ä —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π.–†–µ—Å—É—Ä—Å (Resource)PROJECT, TASK, PERMISSIONS–û–±—ä–µ–∫—Ç—ã –≤ —Å–∏—Å—Ç–µ–º–µ, –∫ –∫–æ—Ç–æ—Ä—ã–º —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø.–î–µ–π—Å—Ç–≤–∏–µ (Action)READ, CREATE, UPDATE, DELETE–¢–∏–ø—ã –æ–ø–µ—Ä–∞—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –Ω–∞–¥ —Ä–µ—Å—É—Ä—Å–æ–º.–ó–∞—â–∏—Ç–∞Depends(check_permission("PROJECT", "CREATE"))–†–æ—É—Ç—ã –∑–∞—â–∏—â–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å—é, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –∏–º–µ–µ—Ç –ª–∏ —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∞–≤–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å —É–∫–∞–∑–∞–Ω–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–∞–¥ —É–∫–∞–∑–∞–Ω–Ω—ã–º —Ä–µ—Å—É—Ä—Å–æ–º.2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç–∞FastAPI Auth Service/
‚îú‚îÄ‚îÄ auth/
‚îÇ   ‚îú‚îÄ‚îÄ auth_router.py      # –†–æ—É—Ç—ã: /register, /login, /me, /logout
‚îÇ   ‚îî‚îÄ‚îÄ auth_service.py     # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞: —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ, Mock-DB, get_current_user
‚îú‚îÄ‚îÄ permissions/
‚îÇ   ‚îú‚îÄ‚îÄ permission_data.py  # –ù–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö: —Ä–æ–ª–∏, —Ä–µ—Å—É—Ä—Å—ã, –ø—Ä–∞–≤–∏–ª–∞ –¥–æ—Å—Ç—É–ø–∞ (PERMISSIONS)
‚îÇ   ‚îî‚îÄ‚îÄ permission_middleware.py # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å check_permission
‚îú‚îÄ‚îÄ schemas.py              # –°—Ö–µ–º—ã Pydantic –¥–ª—è –¥–∞–Ω–Ω—ã—Ö, —Ç–æ–∫–µ–Ω–æ–≤, –æ—Ç–≤–µ—Ç–æ–≤
‚îú‚îÄ‚îÄ security.py             # –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å JWT –∏ bcrypt
‚îî‚îÄ‚îÄ main.py                 # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è FastAPI, Admin API, Mock API
‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –ó–∞–ø—É—Å–∫–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Python 3.11+.1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã:Bashpip install fastapi uvicorn pydantic python-jose[cryptography] bcrypt
2. –ó–∞–ø—É—Å–∫ –°–µ—Ä–≤–µ—Ä–∞–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ —Ä–µ–∂–∏–º–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏:Bashuvicorn main:app --reload
–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://127.0.0.1:8000.üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API–î–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π Swagger UI: http://127.0.0.1:8000/docs.1. –£—á–µ—Ç–Ω—ã–µ –ó–∞–ø–∏—Å–∏ –¥–ª—è –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è–í auth_service.py –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–æ–∑–¥–∞–Ω—ã –¥–≤–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–∞:Email–ü–∞—Ä–æ–ª—å–†–æ–ª—å–ü—Ä–∏–º–µ—á–∞–Ω–∏–µadmin@app.comadminpassADMIN–ü–æ–ª–Ω—ã–µ –ø—Ä–∞–≤–∞, –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏.manager@app.commanagerpassMANAGER–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∞.2. –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–°—Ü–µ–Ω–∞—Ä–∏–π)–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–ª–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:Login: –í—ã–ø–æ–ª–Ω–∏—Ç–µ POST /api/v1/auth/login —Å –¥–∞–Ω–Ω—ã–º–∏ admin@app.com/adminpass. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π Access Token.–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É Authorize –≤ Swagger UI –∏ –≤—Å—Ç–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ –ø–æ–ª–µ.–ü—Ä–æ–≤–µ—Ä–∫–∞ –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏: –í—ã–ø–æ–ª–Ω–∏—Ç–µ GET /api/v1/auth/me. –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è –ø—Ä–æ—Ñ–∏–ª—å –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (200 OK).–ü—Ä–æ–≤–µ—Ä–∫–∞ Admin API: –í—ã–ø–æ–ª–Ω–∏—Ç–µ GET /api/v1/admin/permissions. –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—Ä–∞–≤–∏–ª (200 OK).–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ 403 (–ó–∞–ø—Ä–µ—Ç):–ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –¥–ª—è MANAGER (manager@app.com).–° —Ç–æ–∫–µ–Ω–æ–º –ú–µ–Ω–µ–¥–∂–µ—Ä–∞ –ø–æ–ø—ã—Ç–∞–π—Ç–µ—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å POST /api/v1/projects. –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–ª—É—á–µ–Ω –æ—Ç–≤–µ—Ç 403 Forbidden.–ú—è–≥–∫–æ–µ –£–¥–∞–ª–µ–Ω–∏–µ: –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –Ω–æ–≤–æ–≥–æ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ DELETE /api/v1/auth/me —Å –µ–≥–æ —Ç–æ–∫–µ–Ω–æ–º. –ó–∞—Ç–µ–º —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω –±–æ–ª—å—à–µ –Ω–µ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å POST /api/v1/auth/login (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–ª—É—á–µ–Ω 401 Unauthorized).
